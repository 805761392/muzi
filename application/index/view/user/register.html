{include file='public/head' /}
<body>
	<div class="loader" style="display:none">
		<div class="la-ball-clip-rotate">
			<div></div>
		</div>
	</div><script>
	$('#form1').submit(function(){
		if ($.trim($(':text[name="username"]').val()) == '') {
			util.message('没有输入用户名.', '', 'error');
			return false;
		}
		if ($('#password').val() == '') {
			util.message('没有输入密码.', '', 'error');
			return false;
		}
		if ($('#password').val() != $('#repassword').val()) {
			util.message('两次输入的密码不一致.', '', 'error');
			return false;
		}
		/* 						if (!$.trim($('[name="nickname"]').val())) {
		util.message('昵称为必填项，请返回修改！', '', 'error');
		return false;
		}
								if (!$.trim($('[name="realname"]').val())) {
		util.message('真实姓名为必填项，请返回修改！', '', 'error');
		return false;
		}
										*/
				if ($.trim($(':text[name="code"]').val()) == '') {
			util.message('没有输入验证码.', '', 'error');
			return false;
		}
				});
	var h = document.documentElement.clientHeight;
	$(".login").css('min-height',h);
</script>
<div class="head">
	<nav class="navbar navbar-default" role="navigation">
		<div class="container">
			<div class="navbar-header">
				<a class="navbar-brand" href="https://wx.gxmuzi.com/">
					<img src="__STATIC__/Picture/rxmq3nnf8fdg2qvuxpuxsxuumdbxux.png" class="pull-left" width="110px" height="35px">
				</a>
			</div>
		</div>
	</nav>
</div>
<div class="main">
	<div class="register" style="">
		<div class="panel panel-default">
			<div class="panel-body">
				<div class="title register-nav">
					<a href="./index.php?c=user&a=register&register_type=system" class="active">用户名密码</a>
									</div>
								<form action="" class="we7-form register-mobile" method="post" role="form" id="form1" ng-controller="UserRegisterSystem" ng-cloak>
					<div class="form-group" ng-class="{true:'has-error has-feedback',false:'has-success has-feedback'}[usernameErr]">
						<label class="control-label col-sm-1">用户名:<span class="color-red">*</span></label>
						<div class="col-sm-11">
							<input name="username" type="text" class="form-control" placeholder="请输入用户名" ng-model="username" ng-blur="checkUsername()" required>
							<span ng-class="{true:'fa fa-times form-control-feedback reg-system-valid',false:'fa fa-check form-control-feedback reg-system-valid'}[usernameErr]" aria-hidden="true"></span>
							<span ng-class="{true:'color-red',false:'sr-only'}[usernameErr]" ng-bind="usernameMsg"></span>
						</div>
					</div>

					<div class="form-group" ng-class="{true:'has-error has-feedback',false:'has-success has-feedback'}[passwordErr]">
						<label class="control-label col-sm-1">密码:<span class="color-red">*</span></label>
						<div class="col-sm-11">
							<input name="password" type="password" id="password" class="form-control col-sm-10" placeholder="请输入不少于8位的密码" ng-model="password" ng-blur="checkPassword()" required>
							<span ng-class="{true:'fa fa-times form-control-feedback reg-system-valid',false:'fa fa-check form-control-feedback reg-system-valid'}[passwordErr]" aria-hidden="true"></span>
							<span ng-class="{true:'color-red',false:'sr-only'}[passwordErr]" ng-bind="passwordMsg"></span>
						</div>
					</div>

					<div class="form-group" ng-class="{true:'has-error has-feedback',false:'has-success has-feedback'}[repasswordErr]">
						<label class="control-label col-sm-1">确认密码:<span class="color-red">*</span></label>
						<div class="col-sm-11">
							<input name="password " type="password" id="repassword" class="form-control col-sm-10" placeholder="请再次输入不少于8位的密码" ng-blur="checkRepassword()" ng-model="repassword" required>
							<span ng-class="{true:'fa fa-times form-control-feedback reg-system-valid',false:'fa fa-check form-control-feedback reg-system-valid'}[repasswordErr]" aria-hidden="true"></span>
							<span ng-class="{true:'color-red',false:'sr-only'}[repasswordErr]" ng-bind="repasswordMsg"></span>
						</div>
					</div>

					<!--用户注册拓展字段 end -->
																		<div class="form-group">
								<label class="control-label col-sm-1">昵称:<span class="color-red">*</span></label>
								<div class="col-sm-11">
									<input type="text" class="form-control" name="nickname" value="" />								</div>
							</div>
													<div class="form-group">
								<label class="control-label col-sm-1">真实姓名:<span class="color-red">*</span></label>
								<div class="col-sm-11">
									<input type="text" class="form-control" name="realname" value="" />								</div>
							</div>
													<div class="form-group">
								<label class="control-label col-sm-1">QQ号:</label>
								<div class="col-sm-11">
									<input type="text" class="form-control" name="qq" value="" />								</div>
							</div>

										<div class="form-group">
						<label class="control-label col-sm-1">验证码:<span class="color-red">*</span></label>
						<div class="col-sm-11">
							<div class="input-group">
								<input name="code" type="text" class="form-control" placeholder="请输入验证码" ng-blur="checkCode()" ng-model="code">
								<a href="javascript:refreshVerify();" class="input-group-btn imgverify">
									<img id="imgverify" src="{:captcha_src()}" alt="captcha" title="点击图片更换验证码" style="height: 32px;"/></a>
							</div>
							<span ng-class="{true:'color-red',false:'sr-only'}[codeErr]" ng-bind="codeMsg"></span>
						</div>
					</div>

					<div class="login-submit text-center">
						<input type="submit" name="submit" value="注册" class="btn btn-primary" ng-disabled="usernameInvalid || passwordInvalid || repasswordInvalid"/>
						<a href="./index.php?c=user&a=login&" class="btn btn-default">登录</a>
						<input name="token" value="ce5e2724" type="hidden"/>
						<input name="owner_uid" value="" type="hidden"/>
						<input name="register_type" value="" type="hidden"/>
						<input name="do" value="register" type="hidden"/>
					</div>
				</form>
								<!--div class="form-group">
					<label>邀请码:<span style="color:red">*</span></label>
					<input name="invitation" type="text" class="form-control" placeholder="请输入邀请码">
				</div-->
							</div>
		</div>
	</div>
</div>

<script type="text/javascript">
	angular.module('userManageApp').value('config', {
		'owner_uid': "0",
		'register_type': "system",
		'register_sign': "null",
		'image': "./index.php?c=utility&a=code&",
		'links': {
			'valid_mobile_link': "./index.php?c=user&a=register&do=valid_mobile&",
			'send_code_link': "./index.php?c=utility&a=verifycode&",
			'img_verify_link': "./index.php?c=utility&a=code&",
			'register_link': "./index.php?c=user&a=register&do=register&",
			'check_username_link': "./index.php?c=user&a=register&do=check_username&",
			'get_extendfields_link': "./index.php?c=user&a=register&do=get_extendfields&",
			'check_code_link': "./index.php?c=user&a=register&do=check_code&",
			'check_mobile_code_link': "./index.php?c=user&a=register&do=check_mobile_code&",
		},
	});

	angular.bootstrap($('.register-mobile'), ['userManageApp']);
</script>

</div>
	<div class="container-fluid footer text-center" role="footer">
		<div class="friend-link">
							<br />					</div>
		<div class="copyright"><br /></div>
			</div>
	<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?3a9afbf5e81a468a154cdeb09b689672";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>		</div>
<!--自动刷新验证码-->
<script>
	function refreshVerify(){
        var str = Date.parse(new Date())/1000;
        $('#imgverify').attr("src", "/captcha?id="+str);
	}
</script>
<script type="text/javascript" src="__STATIC__/Scripts/index.js"></script>

<script>$(function(){$('img').attr('onerror', '').on('error', function(){if (!$(this).data('check-src') && (this.src.indexOf('http://') > -1 || this.src.indexOf('https://') > -1)) {this.src = this.src.indexOf('https://wx.gxmuzi.com/attachment/') == -1 ? this.src.replace('http://wxoss.gxmuzi.com/', 'https://wx.gxmuzi.com/attachment/') : this.src.replace('https://wx.gxmuzi.com/attachment/', 'http://wxoss.gxmuzi.com/');$(this).data('check-src', true);}});});</script></body>
</html>
